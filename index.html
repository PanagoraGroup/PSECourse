<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Curso: Relacionamiento con el Sector Privado</title>
	  <link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link href="https://fonts.googleapis.com/css2?family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
	  <link rel="shortcut icon" href="images/favicon.png">
    <!-- Bootstrap -->
    <link href="css/bootstrap-4.4.1.css" rel="stylesheet">
	<link href="css/estilos.css" rel="stylesheet">
	<link href="css/all.min.css" rel="stylesheet">
	<script src="js/ScrollReveal.js"></script>

	  <script>
        // Verificar si el formulario ya fue enviado
		  window.onload = function() {
            if (localStorage.getItem("formSubmitted")) {
                // Redirigir a la tercera página si ya se envió el formulario
                window.location.href = "index2.html";
            }
        };

        function validarFormulario() {
    const nombre = document.getElementById("nombre").value.trim();
    const email = document.getElementById("email").value.trim();
    const mensaje = document.getElementById("mensaje").value.trim();

    // Validar nombre: al menos 2 palabras
    const nombreParts = nombre.split(' ');
    if (nombreParts.length < 2) {
        alert("El nombre debe contener al menos un nombre y un apellido.");
        return false;
    }

    // Validar email
    const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/; // Expresión regular para email
    if (!emailRegex.test(email)) {
        alert("Por favor, introduce un correo electrónico válido.");
        return false;
    }

    // Validar entidad: solo letras y espacios
    if (!/^[A-Za-z\s]+$/.test(mensaje)) {
        alert("La entidad solo debe contener letras y espacios.");
        return false;
    }

    return true; // Si todas las validaciones son exitosas
}

function enviarFormulario(event) {
    event.preventDefault(); // Evita el envío estándar del formulario

    if (!validarFormulario()) {
        return; // Detiene el envío si hay errores de validación
    }

    const form = document.getElementById("Formulario");

    fetch(form.action, {
        method: "POST",
        body: new FormData(form)
    })
    .then(response => {
        if (response.ok) {
            localStorage.setItem("formSubmitted", "true");
            window.location.href = "index2.html";
        } else {
            alert("Hubo un problema al enviar el formulario.");
        }
    })
    .catch(error => {
        console.error("Error al enviar el formulario:", error);
        alert("Hubo un problema al enviar el formulario.");
    });
}

    </script>
	  
  </head>

<body>
	<section>
    	<div class="container-fluid bg-dark text-center">
        	<img src="images/logo.png" alt="" width="180px" height="auto">
    	</div>
	</section>
	<section class="container mt-4 centradovc" style="max-width: 1300px; padding: 0 4rem">
		<div class="row col-12 centradovc">
			<div class="col-7 m-auto centradovc">
				<div style="padding-left: 2rem"><h2 style="text-align: left; margin-bottom: 0; color: #343a40">Bienvenido al curso</h2>
				<h1 style="text-align: left; margin-top: 0; padding-top: 0; font-size: 60; line-height: 1.1; margin-bottom: 0; padding-bottom: 2rem"><strong>Todo lo que debes saber para relacionarte con el sector privado</strong></h1>
				
					<p style="margin-top: 0"><strong>Nota importante:</strong></p>
					<p style="text-wrap: balance; margin-top: 0; padding-top: 0">Este curso debe ser realizado en un computador, ya que contiene recursos y ejercicios compatibles sólo con esta plataforma.</p>
				</div>
			</div>
			<div class="col-5 bg-light m-auto centradovc" style="padding: 2rem 2rem 3rem 2rem; border-radius: 1rem">
				<div class="mb-4">
					<p><strong>Por favor, regístrate para continuar</strong></p>
				</div>
				<div>
        <form id="Formulario" action="https://script.google.com/macros/s/AKfycby8aGr3eG4dQircazQoii8JqG55Be9ZxnhhYGvSLzpKnqBxK2mImV9PDL-pFiCy2vusGg/exec" method="post" onsubmit="enviarFormulario(event)">
            <div class="form-group">
                <input type="text" class="form-control" id="nombre" name="nombre" placeholder="Nombre y apellido" required pattern="^(?! )[A-Za-z\s]+( [A-Za-z]+)+$" title="Recuerda introducir tu nombre y apellido">
            </div>
            <div class="form-group">
                <input type="email" class="form-control" id="email" name="email" placeholder="Email" required>
            </div>
            <div class="form-group">
                <input type="text" class="form-control" id="mensaje" name="mensaje" placeholder="Entidad" required pattern="[A-Za-z\s]+">
            </div>
            <button type="submit" class="btn btn-outline-darkred mt-3">Enviar</button>
        </form>
    </div>
			</div>
		</div>
		
	</section>
	
</body>
</html>
